plugins {
    id "org.sonarqube" version "2.5"
}
apply plugin: 'java'

group = 'ch.adnovum.gong.notifier'
version = '0.0.1'


sourceCompatibility = 1.8
targetCompatibility = 1.8

repositories {
    jcenter()
}

dependencies {
    compile "cd.go.plugin:go-plugin-api:$goVersion"
    compile 'com.google.code.gson:gson:2.8.2'
    compile 'com.sun.mail:javax.mail:1.5.6'

    testCompile 'junit:junit:4.12'
    testCompile group: 'org.mockito', name: 'mockito-all', version: '1.10.19'
    testCompile "com.github.tomakehurst:wiremock:2.15.0"
    testCompile group: 'com.icegreen', name: 'greenmail', version: '1.5.7'
}

processResources {
    filesMatching("plugin.xml") {
        expand project.properties
    }
}

jar {
    into('lib/') {
        from { configurations.compile.collect { it } }
    }
}